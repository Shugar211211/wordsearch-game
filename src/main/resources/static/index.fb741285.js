class e{constructor(){this.wordSelectMode=!1,this.selectedItems=[],this.firstSelectedItem,this.gridArea=document.getElementsByClassName("grid-area")[0],this.words=[],this.foundWords=[]}getCellsInRange(e,t){let d=[],r=t.x-e.x,s=t.y-e.y;if(0===s&&r>0)for(let r=e.x;r<=t.x;r++)d.push(this.gridArea.querySelector(`td[data-x="${r}"][data-y="${t.y}"]`));else if(0===s&&r<0)for(let r=e.x;r>=t.x;r--)d.push(this.gridArea.querySelector(`td[data-x="${r}"][data-y="${t.y}"]`));else if(0===r&&s>0)for(let r=e.y;r<=t.y;r++)d.push(this.gridArea.querySelector(`td[data-x="${t.x}"][data-y="${r}"]`));else if(0===r&&s<0)for(let r=e.y;r>=t.y;r--)d.push(this.gridArea.querySelector(`td[data-x="${t.x}"][data-y="${r}"]`));else if(s>0&&r>0)for(let t=0;t<=r;t++)d.push(this.gridArea.querySelector(`td[data-x="${e.x+t}"][data-y="${e.y+t}"]`));else if(s<0&&r<0)for(let t=0;t<=Math.abs(s);t++)d.push(this.gridArea.querySelector(`td[data-x="${e.x-t}"][data-y="${e.y-t}"]`));else if(s>0&&r<0)for(let t=0;t<=s;t++)d.push(this.gridArea.querySelector(`td[data-x="${e.x-t}"][data-y="${e.y+t}"]`));else if(s<0&&r>0)for(let t=0;t<=r;t++)d.push(this.gridArea.querySelector(`td[data-x="${e.x+t}"][data-y="${e.y-t}"]`));return d}renderGrid(e,t){this.gridArea.lastChild&&this.gridArea.removeChild(this.gridArea.lastChild);const d=document.createElement("table"),r=document.createElement("tbody");for(let d=0;d<e;d++){const s=document.createElement("tr");for(let r=0;r<e;r++){const a=document.createElement("td"),i=document.createTextNode(t[d*e+r]);a.appendChild(i),a.setAttribute("data-x",r),a.setAttribute("data-y",d),a.setAttribute("data-letter",t[d*e+r]),s.appendChild(a)}r.appendChild(s)}d.appendChild(r),this.gridArea.appendChild(d),d.addEventListener("mousedown",(e=>{this.wordSelectMode=!0;const t=e.target;let d=+t.getAttribute("data-x"),r=+t.getAttribute("data-y"),s=t.getAttribute("data-letter");this.firstSelectedItem={x:d,y:r,letter:s,cell:t}})),d.addEventListener("mousemove",(e=>{if(console.log("move"),this.wordSelectMode){const t=e.target;let d=+t.getAttribute("data-x"),r=+t.getAttribute("data-y");t.getAttribute("data-letter");this.selectedItems.forEach((e=>{null!=e&&e.classList.remove("selected")})),this.selectedItems=this.getCellsInRange(this.firstSelectedItem,{x:d,y:r}),this.selectedItems.forEach((e=>{null!=e&&e.classList.add("selected")}))}})),d.addEventListener("mouseup",(e=>{this.wordSelectMode=!1;const t=this.selectedItems.reduce(((e,t)=>e+t.getAttribute("data-letter")),""),d=t.split("").reverse().join("");-1!==this.words.indexOf(t)?this.foundWords.push(t):-1!==this.words.indexOf(d)?this.foundWords.push(d):this.selectedItems.forEach((e=>e.classList.remove("selected"))),this.selectedItems=[],console.log(this.foundWords)}))}}document.querySelector(".submit-word").addEventListener("click",(async()=>{const t=new e,d=document.querySelector("#add-word").value,r=document.querySelector("#grid-size").value;let s=await async function(e,t){let d=await fetch(`http://localhost:8080/wordgrid?gridSize=${e}&words=${t}`);return(await d.text()).split(" ")}(r,d);t.words=d.split(","),t.renderGrid(r,s);let a=document.createTextNode(t.words),i=document.querySelector(".word-list");i.lastChild&&i.removeChild(i.lastChild),i.appendChild(a)}));
//# sourceMappingURL=index.fb741285.js.map
